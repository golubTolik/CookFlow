<script >
import List from './components/List.vue';

export default {
    components:{
        List
    },
    data() {
        return{
            dishes : [
                {
                    id: 1,
                    name: "–•–∞—á–∞–ø—É—Ä–∏ –ø–æ-–∞–¥–∂–∞—Ä—Å–∫–∏",
                    description: "–¢—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω–æ–µ –≥—Ä—É–∑–∏–Ω—Å–∫–æ–µ –±–ª—é–¥–æ —Å —è–π—Ü–æ–º –∏ —Å—ã—Ä–æ–º –≤ —Ñ–æ—Ä–º–µ –ª–æ–¥–æ—á–∫–∏.",
                    cuisine: "–ì—Ä—É–∑–∏–Ω—Å–∫–∞—è",
                    difficulty: "–Ω–æ–≤–∏—á–æ–∫",
                    cookingTime: 40
                },
                {
                    id: 2,
                    name: "–ë–æ—Ä—â",
                    description: "–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π —É–∫—Ä–∞–∏–Ω—Å–∫–∏–π —Å—É–ø —Å–æ —Å–≤–µ–∫–ª–æ–π, –∫–∞–ø—É—Å—Ç–æ–π –∏ —Å–º–µ—Ç–∞–Ω–æ–π.",
                    cuisine: "–†—É—Å—Å–∫–∞—è",
                    difficulty: "–ª—é–±–∏—Ç–µ–ª—å",
                    cookingTime: 90
                },
                {
                    id: 3,
                    name: "–ü–∞—Å—Ç–∞ –ö–∞—Ä–±–æ–Ω–∞—Ä–∞",
                    description: "–ò—Ç–∞–ª—å—è–Ω—Å–∫–∞—è –ø–∞—Å—Ç–∞ —Å —Å–æ—É—Å–æ–º –∏–∑ —è–∏—Ü, —Å—ã—Ä–∞ –ø–∞—Ä–º–µ–∑–∞–Ω –∏ –ø–∞–Ω—á–µ—Ç—Ç—ã.",
                    cuisine: "–°—Ä–µ–¥–∏–∑–µ–º–Ω–æ–º–æ—Ä—Å–∫–∞—è",
                    difficulty: "–Ω–æ–≤–∏—á–æ–∫",
                    cookingTime: 25
                },
                {
                    id: 4,
                    name: "–ü–ª–æ–≤",
                    description: "–í–æ—Å—Ç–æ—á–Ω–æ–µ –±–ª—é–¥–æ –∏–∑ —Ä–∏—Å–∞ —Å –±–∞—Ä–∞–Ω–∏–Ω–æ–π, –º–æ—Ä–∫–æ–≤—å—é –∏ —Å–ø–µ—Ü–∏—è–º–∏.",
                    cuisine: "–£–∑–±–µ–∫—Å–∫–∞—è",
                    difficulty: "—ç–∫—Å–ø–µ—Ä—Ç",
                    cookingTime: 120
                },
                {
                    id: 5,
                    name: "–°–∞–ª–∞—Ç –¶–µ–∑–∞—Ä—å",
                    description: "–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π —Å–∞–ª–∞—Ç —Å –∫—É—Ä–∏—Ü–µ–π, –ª–∏—Å—Ç—å—è–º–∏ —Å–∞–ª–∞—Ç–∞ –∏ —Å–æ—É—Å–æ–º –¶–µ–∑–∞—Ä—å.",
                    cuisine: "–ê–º–µ—Ä–∏–∫–∞–Ω—Å–∫–∞—è",
                    difficulty: "–Ω–æ–≤–∏—á–æ–∫",
                    cookingTime: 20
                },
                {
                    id: 6,
                    name: "–†–∞—Ç–∞—Ç—É–π",
                    description: "–§—Ä–∞–Ω—Ü—É–∑—Å–∫–æ–µ –æ–≤–æ—â–Ω–æ–µ —Ä–∞–≥—É –∏–∑ –±–∞–∫–ª–∞–∂–∞–Ω–æ–≤, –∫–∞–±–∞—á–∫–æ–≤ –∏ –ø–µ—Ä—Ü–µ–≤.",
                    cuisine: "–§—Ä–∞–Ω—Ü—É–∑—Å–∫–∞—è",
                    difficulty: "–ª—é–±–∏—Ç–µ–ª—å",
                    cookingTime: 60
                },
                {
                    id: 7,
                    name: "–¢–æ–º –Ø–º",
                    description: "–û—Å—Ç—Ä—ã–π —Ç–∞–π—Å–∫–∏–π —Å—É–ø —Å –∫—Ä–µ–≤–µ—Ç–∫–∞–º–∏, –≥—Ä–∏–±–∞–º–∏ –∏ –∫–æ–∫–æ—Å–æ–≤—ã–º –º–æ–ª–æ–∫–æ–º.",
                    cuisine: "–¢–∞–π—Å–∫–∞—è",
                    difficulty: "—ç–∫—Å–ø–µ—Ä—Ç",
                    cookingTime: 45
                },
                {
                    id: 8,
                    name: "–û–ª–∏–≤—å–µ",
                    description: "–¢—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã–π —Ä—É—Å—Å–∫–∏–π —Å–∞–ª–∞—Ç —Å –∫–æ–ª–±–∞—Å–æ–π, –∫–∞—Ä—Ç–æ—Ñ–µ–ª–µ–º –∏ –º–∞–π–æ–Ω–µ–∑–æ–º.",
                    cuisine: "–†—É—Å—Å–∫–∞—è",
                    difficulty: "–Ω–æ–≤–∏—á–æ–∫",
                    cookingTime: 30
                },
                {
                    id: 9,
                    name: "–°—É—à–∏ –ö–∞–ª–∏—Ñ–æ—Ä–Ω–∏—è",
                    description: "–†–æ–ª–ª—ã —Å –∫—Ä–∞–±–æ–º, –∞–≤–æ–∫–∞–¥–æ –∏ –æ–≥—É—Ä—Ü–æ–º, –æ–±–µ—Ä–Ω—É—Ç—ã–µ –∏–∫—Ä–æ–π —Ç–æ–±–∏–∫–æ.",
                    cuisine: "–Ø–ø–æ–Ω—Å–∫–∞—è",
                    difficulty: "–ª—é–±–∏—Ç–µ–ª—å",
                    cookingTime: 50
                }
            ],
            selectedFilters: {
                cuisine: [],
                difficulty: []
            },
            searchTerm: '',
        }
    },
    methods: {
        resetFilters() {
            this.selectedFilters.cuisine = [];
            this.selectedFilters.difficulty = [];
            this.searchTerm.value = '';
        },
    },
    computed: {
        // –í—ã—á–∏—Å–ª—è–µ–º—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞ –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–æ–≤
        availableCuisines() {
            return [...new Set(this.dishes.value.map(dish => dish.cuisine))];
        },
                    
        availableDifficulties() {
            return [...new Set(this.dishes.value.map(dish => dish.difficulty))];
        },
        filteredDishes() {
            return this.dishes.value.filter(dish => {
                // –ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é
                const matchesSearch = dish.name.toLowerCase().includes(this.searchTerm.value.toLowerCase());
                            
                // –§–∏–ª—å—Ç—Ä –ø–æ –∫—É—Ö–Ω–µ
                const matchesCuisine = this.selectedFilters.cuisine.length === 0 || 
                    this.selectedFilters.cuisine.includes(dish.cuisine);
                            
                // –§–∏–ª—å—Ç—Ä –ø–æ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏
                const matchesDifficulty = this.selectedFilters.difficulty.length === 0 || 
                    this.selectedFilters.difficulty.includes(dish.difficulty);
                            
                return matchesSearch && matchesCuisine && matchesDifficulty;
            });
        },
    }
}
</script>

<template>
    <header class="!mb-5 items-center font-[Comfortaa]">
        <div class="container !mx-auto flex justify-between items-center">
            <div class="w-[200px]"><img src="./components/icons/logo3.png" alt=""></div>
            <!-- <h1 class="text-3xl md:text-4xl font-bold mb-4 md:mb-0">üç≥ –ö–æ–ª–ª–µ–∫—Ü–∏—è —Ä–µ—Ü–µ–ø—Ç–æ–≤</h1> -->
            <div class="controls">
                <input checked type="radio" name="name" id="input1" class="hidden">
                <input type="radio" name="name" id="input2" class="hidden">
                <input type="radio" name="name" id="input3" class="hidden">
                <label for="input1" id="label1" class="cursor-pointer text-[20px] text-[#929292] !mr-[10px] duration-200 underline decoration-[#929292] decoration-[2px] underline-offset-[5px]">–ì–ª–∞–≤–Ω–∞—è</label>
                <label for="input2" id="label2" class="cursor-pointer text-[20px] text-[#929292] !mr-[10px] duration-200 underline decoration-[#929292] decoration-[2px] underline-offset-[5px]">–†–µ—Ü–µ–ø—Ç—ã</label>
                <label for="input3" id="label3" class="cursor-pointer text-[20px] text-[#929292] !mr-[10px] duration-200 underline decoration-[#929292] decoration-[2px] underline-offset-[5px]">–°—Ç–∞—Ç—å–∏</label>
            </div>
            <div class="cursor-pointer text-xl !px-6 !py-1 border-1 border-[#06D6A0] duration-200 rounded-full capitalize text-black hover:bg-[#06D6A0] hover:-translate-y-1 hover:shadow-lg "><p>–í–æ–π—Ç–∏</p></div>
        </div>
    </header>
    <body class="!bg-gray-50 flex flex-col lg:flex-row gap-8 container !mx-auto !px-4 !py-8">
        <div class="w-full lg:w-1/4">
            <div class="bg-white rounded-xl shadow-md p-6 sticky top-4">
                <div class="flex justify-between items-center !mb-6">
                    <h2 class="text-xl !font-bold text-gray-800 font-[Comfortaa]">–§–∏–ª—å—Ç—Ä—ã</h2>
                    <button 
                        @click="resetFilters"
                        class="text-sm bg-gray-100 hover:bg-gray-200 text-gray-800 py-1 px-3 rounded-full transition"
                    >
                        –°–±—Ä–æ—Å–∏—Ç—å
                    </button>
                </div>
                        
                <!-- –§–∏–ª—å—Ç—Ä –ø–æ –∫—É—Ö–Ω–µ -->
                <div class="!mb-6 filter-section">
                    <h3 class="!font-bold text-gray-700 !mb-3 !pb-2 border-b border-gray-300 font-[Comfortaa]">–ö—É—Ö–Ω—è</h3>
                    <div class="space-y-2">
                        <div 
                            v-for="cuisine in availableCuisines" 
                            :key="cuisine"
                            class="filter-option"
                        >
                            <label class="flex items-center cursor-pointer py-1 px-2 rounded">
                                <input 
                                    type="checkbox" 
                                    v-model="selectedFilters.cuisine" 
                                    :value="cuisine"
                                    class="rounded text-orange-500 focus:ring-orange-500"
                                >
                                <span class="ml-2 text-gray-600">{{ cuisine }}</span>
                            </label>
                        </div>
                    </div>
                </div>
                        
                <!-- –§–∏–ª—å—Ç—Ä –ø–æ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ -->
                <div class="filter-section">
                    <h3 class="!font-bold text-gray-700 !mb-3 !pb-2 border-b border-gray-300 font-[Comfortaa]">–°–ª–æ–∂–Ω–æ—Å—Ç—å</h3>
                    <div class="space-y-2">
                        <div 
                            v-for="difficulty in availableDifficulties" 
                            :key="difficulty"
                            class="filter-option"
                        >
                            <label class="flex items-center cursor-pointer py-1 px-2 rounded">
                                <input 
                                    type="checkbox" 
                                    v-model="selectedFilters.difficulty" 
                                    :value="difficulty"
                                    class="rounded text-orange-500 focus:ring-orange-500"
                                >
                                <span class="ml-2 text-gray-600">{{ difficulty }}</span>
                            </label>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="w-full lg:w-3/4">
            <div class="relative w-full md:w-1/3">
                <input 
                    v-model="searchTerm"
                    type="text" 
                    placeholder="–ü–æ–∏—Å–∫ —Ä–µ—Ü–µ–ø—Ç–æ–≤..." 
                    class="!w-full !py-3 !px-4 !pl-12 rounded-full bg-[#06D6A0] bg-opacity-20 placeholder-white text-white focus:outline-none focus:ring-2 focus:ring-white focus:bg-opacity-30 transition"
                >
                <!-- <i class="fas fa-search absolute left-4 top-3.5 text-white"></i> -->
            </div>
            <List  v-bind:dishes="filteredDishes"></List>
        </div>
        
    </body>
    <footer class="">

    </footer>
</template>

<style scoped>
.controls #input1:checked ~ .perecluch .text1, 
#input2:checked ~ .perecluch .text2, #input3:checked ~ .perecluch .text3{
    display: flex;
    justify-content: space-around;
}
.controls #input1:checked ~ #label1,
#input2:checked ~ #label2, #input3:checked ~ #label3{
    color: #06D6A0;
    text-decoration-color: #06D6A0;
}
.controls .active{
    color: #06D6A0;
    text-decoration-color: #06D6A0;
}

.filter-section {
    transition: all 0.3s ease;
}
.filter-option {
    transition: background-color 0.2s;
}
.filter-option:hover {
    background-color: #f3f4f6;
}
</style>
